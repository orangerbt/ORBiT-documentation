% This document must be compiled with LuaLaTeX
\documentclass[12pt,article]{memoir}

\input{../Templates/packages.tex}
\input{../Templates/presetup.tex}


%**********************************************************************
%Document titles etc. defined here: (replace [] as well)
\title{OA-II VEH COM System Design}
\author{Jinzhi Cai}
\itemcode{DR00003}
\revnumber{A01}
\date{\today}
%end of document titles etc.
%**********************************************************************

\input{../Templates/postsetup.tex}

\begin{document}
	
\input{../Templates/cover.tex}

\tableofcontents*
\clearpage


%**********************************************************************
% Everything after this is the main document. Edit below this line,

\chapter{Introduction}
\section{Scope}
This document is describe a design for the OA-II VEH Computing and Operation Module.
\section{Purpose}
The goal for the design is to build a system that allow real time operation and multimedia processing happen in the same time during the flight.
\chapter{Revision History}
\begin{table}[H]
	\centering
	\resizebox{0.8\textwidth}{!}{%
		\begin{tabu}{r || c | c | c }
		Rev\# & Editor & Delta & Date\\ \hline
		A01 & Jinzhi Cai & Initialize & 2019-7-20\\
		\end{tabu}
	}
	\caption{Summary of Revision History}
	\label{tab:rev}
\end{table}
\newpage
\chapter{Requirement Analysis}
\section{Failure Recovery}
In the OA-II VEH system requirement,failure recovery is always the most important part. The main requirement for failure recovery is in below.
\subparagraph{Backup}For all the mission critical system, it mast have at least have one backup unit.
\subparagraph{Fast Switch} When emergent scenario has been detected, the system will switch to backup unit within limited time and functioning.
\subparagraph{Hierarchy Failure Recovery System} For different emergent scenario, failure recovery system have different plan to deal with to protect device and data.
\section{Realtime Operating System}
In the OA-II VEH system requirement, realtime operating system is the key to proform all the critical procedure.
\subparagraph{Predictable Execution Time}All the procedure will need to execute on time with limited of error.
\subparagraph{Interface with the Main System}The RTOS will need to be have to receive command from other system.
\subparagraph{Execution Feedback}When a procedure is executed, it have to be comfirm with sensor.
%\section{Additional Sensor Fusion}
\newpage
\chapter{Current Controller Analysis}
\section{Arduino}
Arduino is a common use in DIY electronics. It have an abundant library for different IC. It also friandly for the beginner. However, most of the arduino library is not effection and the interface choose is limited. Its main clock is running at 16MHz which is not enough for support a functional linux system.
\section{STM32 Serise}
STM32 Serise is a common use microcontroller and it support up to 400MHz main clock. This kind of microcontroller also support to running a operating system. However, as the arduino, it lack the freedom to choose the the interface. 
\section{Market SoC System}
In the market, it have a lot of different SoC system, such as raspberry Pi and BeagleBone. It do come with a lot of different interface. However, it do not have a high speed interface what can use to connect between different system.
\section{FPGA Soft Core Processor}
A field-programmable gate array (FPGA) is an integrated circuit designed to be configured by a customer or a designer after manufacturing â€“ hence the term "field-programmable".\cite{Cite Needed} Almost every FPGA company will have it own soft core processor. Those processor existing in code form and allow user to rebuild them in the FPGA chip as long as the chip have enough resource. Even the soft core processor allow user to costume the structure, the speed of soft core processor will not as fast as the SoC processor. However, it is fairly easy to interface to other system.
\section{SoC FPGA}
The SoC FPGA basicly also is a kind of FPGA. The only different it embedded a powerful processor as know as hard core processor. It help fuse the benefit between the SoC chip and FPGA chip. On one hand, it allow big system running in the powerful hard core processor. In the same time, the flexibility of FPGA chip allow costume interface and upgrade ability. However, SoC FPGA have less logic resource compare with the classic FPGA and weak proessing power compare with SoC which in the same price.
\newpage
\chapter{Recommend System Design}
\section{SoC FPGA}
In this design, the main processor will be a SoC FPGA that have about 70K LUT logic resource and dual core 800MHz - 1GHz hard core processor.
\begin{table}[H]
	\centering
	\resizebox{0.5\textwidth}{!}{%
		\begin{tabu}{ c | c }
		IP core or Logic & Resource Cost\\ \hline
		Blackbone Bus Controller & 50K(Max)\\
		Low Speed Sensor Controller & 10K\\
		Soft Core Processor & 9K\\
		Debug JTAG Core & 1K\\ \hline
		Summery & 70K
		\end{tabu}
	}
	\caption{Table of Logic Resource}
	\label{tab:rev}
\end{table}
The hard core processor will be collecting data from the bus and sensor controller. It will storage those data and use it to resolve the rocket attitude and location. The result will transfer to command and send to the realtime soft core processor to control the PAM.\\
The FRU will have the same hardware structure as the MCU, but constantly get data from the MCU for error checking.
\begin{center}
\begin{figure}[htp]
\begin{center}
\includegraphics[width=0.6\textwidth]{img/DR00003_Plan1.png}
 \caption{Block Diagram For COM System}	
\end{center}
\end{figure}
\end{center}

%end of document
%**********************************************************************
\end{document}